<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Platsr API Sandbox</title>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<link rel="stylesheet" href="https://cdn.rawgit.com/twbs/bootstrap/v4-dev/dist/css/bootstrap.css">
		<link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.css">
		<style>
		#leaflet {
		  width: 100%;
		  height: 450px;
		}
		</style>
	</head>
	<body>
		<div class="fluid-container">
			<div class="col-md-9">
				<form>
					<fieldset class="form-group">
						<label for="requestUrlForm">Request URL</label>
						<div class="input-group">
							<input type="text" class="form-control copy-source" id="requestUrlForm" disabled value="http://www.platsr.se/platsr/api/v1/">
							<span class="input-group-btn">
								<button class="btn btn-secondary" id="copy" type="button">Copy</button>
							</span>
						</div>
					</fieldset>

					<div id="fieldContainer">

						<fieldset class="form-group" style="display: none;" id="uriField">
							<label for="uriForm">Item URI</label>
							<input type="text" class="form-control" id="uriForm" placeholder="50000000000001">
						</fieldset>

						<fieldset class="form-group" style="display: none;" id="searchField">
							<label for="searchForm">Search Text</label>
							<input type="text" class="form-control" id="searchForm" value="Search String">
						</fieldset>

						<fieldset class="form-group" style="display: none;" id="bboxField">
							<label for="bboxForm">Bounding Box</label>
							<div class="input-group">
								<input type="text" class="form-control" id="bboxForm" value="751050,6635000,758242,6429670">
								<span class="input-group-btn">
									<button class="btn btn-secondary" type="button" id="bboxMapBtn" data-toggle="modal" data-target="#modal">Map</button>
								</span>
							</div>
						</fieldset>

						<fieldset class="form-group" style="display: none;" id="lradiusField">
							<label for="lradiusForm">Center Location</label>
							<div class="input-group">
								<input type="text" class="form-control" id="lradiusForm" value="519412,6468281">
								<span class="input-group-btn">
									<button class="btn btn-secondary" type="button" id="pointMapBtn" data-toggle="modal" data-target="#modal">Map</button>
								</span>
							</div>
							<label for="dradiusForm">Radius</label>
							<div class="input-group">
								<input type="text" class="form-control" id="dradiusForm" value="1000">
								<div class="input-group-addon">meters</div>
							</div>
						</fieldset>

						<fieldset style="display: none;" id="extractField">
							<label class="c-input c-checkbox">
								<input type="checkbox" id="extract">
								<span class="c-indicator"></span>
								Extract Items
							</label>
						</fieldset>
					</div>

					<button type="button" class="btn btn-primary" onclick="sandbox.prepareRequest()">Run</button>

					<div class="modal" id="modal" tabindex="-1" role="dialog" aria-hidden="true">
						<div class="modal-dialog modal-lg">
							<div class="modal-content">
								<div class="modal-body" id="leaflet"></div>
								<button type="button" class="btn btn-primary" id="bboxSubmitBtn" style="position: fixed; right: 5px; bottom: 22px; display:none;">OK</button>
							</div>
						</div>
					</div>
				</form>

				<div class="alert alert-warning alert-dismissible" role="alert" style="display: none">
					<button type="button" class="close" data-dismiss="alert" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
					<strong>Request Error</strong> Platsr didn't like that request.
				</div>

				<pre><code id="resultContainer" class="language-javascript"></code></pre>
			</div>

			<div class="col-md-3 list-group">
				<button class="list-group-item" onclick="sandbox.methodInit('text'); $(this).addClass('active')">Text Search</button>
				<button class="list-group-item" onclick="sandbox.methodInit('bbbox'); $(this).addClass('active')">Bounding Box</button>
				<button class="list-group-item" onclick="sandbox.methodInit('radius'); $(this).addClass('active')">Location Radius</button>
				<button class="list-group-item" onclick="sandbox.itemInit('bookmark'); $(this).addClass('active')">Bookmark</button>
				<button class="list-group-item" onclick="sandbox.itemInit('collection'); $(this).addClass('active')">Collection</button>
				<button class="list-group-item" onclick="sandbox.itemInit('comment'); $(this).addClass('active')">Comment</button>
				<button class="list-group-item" onclick="sandbox.itemInit('copyright'); $(this).addClass('active')">Copyright</button>
				<button class="list-group-item" onclick="sandbox.itemInit('image'); $(this).addClass('active')">Image</button>
				<button class="list-group-item" onclick="sandbox.itemInit('place'); $(this).addClass('active')">Place</button>
				<button class="list-group-item" onclick="sandbox.itemInit('sound'); $(this).addClass('active')">Sound</button>
				<button class="list-group-item" onclick="sandbox.itemInit('story'); $(this).addClass('active')">Story</button>
				<button class="list-group-item" onclick="sandbox.itemInit('tag'); $(this).addClass('active')">Tag</button>
				<button class="list-group-item" onclick="sandbox.itemInit('user'); $(this).addClass('active')">User</button>
				<button class="list-group-item" onclick="sandbox.itemInit('video'); $(this).addClass('active')">Video</button>
			</div>
		</div>

		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
		<script src="https://cdn.rawgit.com/twbs/bootstrap/v4-dev/dist/js/bootstrap.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/proj4js/2.3.12/proj4.js"></script>
		<script src="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.js"></script>
		<script src="libs/leaflet-areaselect.js"></script>
		<script src="js/sandbox.js"></script>

		<link rel="stylesheet" href="libs/leaflet-areaselect.css" />
	</body>
</html>
